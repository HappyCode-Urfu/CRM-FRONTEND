## Стэк
- React 
- SCSS
- TS
- Axios 
- React Router Dom 
- Redux Toolkit
- Vite
- JSON server - fake api

## Команды

```
# Установить зависимости
yarn install

# Запустить React приложение
yarn dev

# Проверяет наличие ошибок во всём проекте
yarn lint 

# исправление ошибок во всём проекте
yarn lint --fix

# Собрать проект
yarn build

# Просмотр собранного проекта
yarn preview

# Запуск fake api 
yarn serv-json
```


## Структура проекта
```
.
└── .../
    ├── fakeapi/ - локальный api
    ├── dist/ - Сборка проекта
    ├── .env.production
    ├── .env.development
    ├── dist/ - Сборка проекта
    ├── public/ - Каталог, в котором лежат файлы, изменяемые и перемещаемые бандлером
    └── src/ - Корневая папка с кодом
        ├── assets/ 
        ├── components/
        ├── http/
        ├── layout/
        ├── pages/
        ├── router/
        ├── store/
        ├── styles/
        ├── utils/
        ├── App.tsx
        ├── vite-env.d.ts
        └── main.tsx
```

## Импорт для .env

```
import.meta.env.[название]
```

Открытыми являются переменные, начинающиеся с VITE_

например:
```
PASSWORD=qwerty
VITE_SOME_KEY=some-public-value
```

В данном случае в клиентский код попадет только VITE_SOME_KEY

## Работа с JSON server

1. [Документация](https://github.com/typicode/json-server) по json server

2. [Документация](https://github.com/jeremyben/json-server-auth/blob/master/README.MD) по json server auth

Любой из следующих маршрутов регистрирует нового пользователя:

- **`POST /register`**
- **`POST /signup`**

```email``` и ```password``` обязательны в теле запроса:

```
POST /register
{
    "email": "olivier@mail.com",
    "password": "bestPassw0rd"
}
```

В ответе содержится токен доступа JWT (срок действия 1 час) и данные пользователя (без пароля):

```
201 Created
{
  "accessToken": "xxx.xxx.xxx",
  "user": {
    "id": 1,
    "email": "olivier@mail.com"
  }
}
```

Любое другое свойство можно добавить в тело запроса без проверки:Любое другое свойство можно добавить в тело запроса без проверки:

```
POST /register
{
  "email": "olivier@mail.com",
  "password": "bestPassw0rd",
  "firstname": "Olivier",
  "lastname": "Monge",
  "age": 32
}
```

Защищенные маршруты существуют в корне и могут ограничить доступ к любому ресурсу, который вы поместите после них:Защищенные маршруты существуют в корне и могут ограничить доступ к любому ресурсу, который вы поместите после них:

|    Маршрут     | Разрешения на ресурсы                                                                                                          |
| :----------: |:-------------------------------------------------------------------------------------------------------------------------------|
| **`/664/*`** | Пользователь должен войти в систему, чтобы написать ресурс. <br>  Ресурс может прочитать каждый.                               |
| **`/660/*`** | Пользователь должен войти в систему, чтобы писать или читать ресурс.                                                           |
| **`/644/*`** | Пользователь должен владеть ресурсом, чтобы написать ресурс. <br> Ресурс может прочитать каждый.                               |
| **`/640/*`** | Пользователь должен владеть ресурсом, чтобы написать ресурс. <br> Пользователь должен войти в систему, чтобы прочитать ресурс. |
| **`/600/*`** | Пользователь должен владеть ресурсом, чтобы писать или читать ресурс.                                                          |
| **`/444/*`** | Никто не может написать ресурс. <br> Ресурс может прочитать каждый.                                                            |
| **`/440/*`** | Никто не может написать ресурс. <br> Пользователь должен войти в систему, чтобы прочитать ресурс.                              |
| **`/400/*`** | Никто не может написать ресурс. <br> Пользователь должен владеть ресурсом, чтобы читать ресурс.                                |
